{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "3d-parallax-cards",
  "type": "registry:block",
  "title": "3d Parallax Cards",
  "description": "3d Parallax Cards component variant",
  "files": [
    {
      "path": "src/components/showcase/card/3d-parallax-cards.tsx",
      "content": "\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Card } from \"@/components/ui/card\";\r\n\r\ninterface MousePosition {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\ninterface Particle {\r\n  id: number;\r\n  x: number;\r\n  y: number;\r\n  vx: number;\r\n  vy: number;\r\n}\r\n\r\ninterface CardItems {\r\n  title: string;\r\n  description: string;\r\n  icon: string;\r\n}\r\n\r\nconst card_items: CardItems[] = [\r\n  {\r\n    title: \"Parallax Motion\",\r\n    description:\r\n      \"Move your mouse to see elements follow your cursor with smooth parallax effects\",\r\n    icon: \"âœ¨\",\r\n  },\r\n  {\r\n    title: \"Interactive Particles\",\r\n    description:\r\n      \"Hover over cards to spawn animated particles that burst outward\",\r\n    icon: \"ðŸŽ¯\",\r\n  },\r\n  {\r\n    title: \"Glow Effects\",\r\n    description:\r\n      \"Cards emit a dynamic glow that follows your cursor position in real-time\",\r\n    icon: \"ðŸ’«\",\r\n  },\r\n  {\r\n    title: \"Staggered Animation\",\r\n    description:\r\n      \"Elements animate in sequence with carefully timed transitions for flow\",\r\n    icon: \"ðŸŽ¨\",\r\n  },\r\n  {\r\n    title: \"Scale Transforms\",\r\n    description:\r\n      \"Smooth scale and rotation transforms triggered by mouse proximity\",\r\n    icon: \"ðŸ”„\",\r\n  },\r\n  {\r\n    title: \"Smooth Transitions\",\r\n    description:\r\n      \"GPU-accelerated transitions for buttery smooth 60fps animations\",\r\n    icon: \"âš¡\",\r\n  },\r\n];\r\nconst ParallaxCard = () => {\r\n  const [mousePosition, setMousePosition] = useState<MousePosition>({\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n  const [containerSize, setContainerSize] = useState({ width: 0, height: 0 });\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [particles, setParticles] = useState<Array<Particle>>([]);\r\n\r\n  // Track container size\r\n  useEffect(() => {\r\n    const updateSize = () => {\r\n      if (containerRef.current) {\r\n        setContainerSize({\r\n          width: containerRef.current.offsetWidth,\r\n          height: containerRef.current.offsetHeight,\r\n        });\r\n      }\r\n    };\r\n\r\n    updateSize();\r\n    window.addEventListener(\"resize\", updateSize);\r\n    return () => window.removeEventListener(\"resize\", updateSize);\r\n  }, []);\r\n\r\n  // Track mouse position for parallax effect\r\n  useEffect(() => {\r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      if (containerRef.current) {\r\n        const rect = containerRef.current.getBoundingClientRect();\r\n        setMousePosition({\r\n          x: e.clientX - rect.left,\r\n          y: e.clientY - rect.top,\r\n        });\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n    return () => window.removeEventListener(\"mousemove\", handleMouseMove);\r\n  }, []);\r\n\r\n  // Animate and remove particles\r\n  useEffect(() => {\r\n    if (particles.length === 0) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setParticles((prev) =>\r\n        prev\r\n          .map((p) => ({\r\n            ...p,\r\n            x: p.x + p.vx,\r\n            y: p.y + p.vy,\r\n            vy: p.vy + 0.5, // gravity effect\r\n          }))\r\n          .filter((p) => {\r\n            // Keep particles that are still visible\r\n            return Math.abs(p.vx) > 0.1 || Math.abs(p.vy) > 0.1;\r\n          })\r\n      );\r\n    }, 30);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [particles.length]);\r\n\r\n  // Create particles on hover\r\n  const handleCardHover = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (!isHovered) return;\r\n\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    // Create multiple particles bursting outward\r\n    const newParticles: Particle[] = [];\r\n    for (let i = 0; i < 6; i++) {\r\n      const angle = (i / 6) * Math.PI * 2;\r\n      const speed = 3 + Math.random() * 2;\r\n      newParticles.push({\r\n        id: Date.now() + i,\r\n        x,\r\n        y,\r\n        vx: Math.cos(angle) * speed,\r\n        vy: Math.sin(angle) * speed - 2,\r\n      });\r\n    }\r\n\r\n    setParticles((prev) => [...prev, ...newParticles]);\r\n\r\n    // Clear old particles after a bit\r\n    setTimeout(() => {\r\n      setParticles((prev) =>\r\n        prev.filter((p) => !newParticles.find((np) => np.id === p.id))\r\n      );\r\n    }, 800);\r\n  };\r\n  return (\r\n    <div ref={containerRef} className=\"relative w-full max-w-4xl mx-auto\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl w-full\">\r\n        {card_items.map((card, index) => {\r\n          // Calculate distance and angle from cursor to card\r\n          const cardDistance = Math.sqrt(\r\n            Math.pow(mousePosition.x - containerSize.width / 2, 2) +\r\n              Math.pow(mousePosition.y - containerSize.height / 2, 2)\r\n          );\r\n          const maxDistance = 500;\r\n          const proximity = Math.max(0, 1 - cardDistance / maxDistance);\r\n\r\n          return (\r\n            <div\r\n              key={index}\r\n              className=\"relative group\"\r\n              style={{\r\n                transform: `perspective(1000px) rotateX(${\r\n                  (mousePosition.y - containerSize.height / 2) * 0.02\r\n                }deg) rotateY(${\r\n                  (mousePosition.x - containerSize.width / 2) * 0.02\r\n                }deg)`,\r\n                transition: \"transform 0.3s ease-out\",\r\n              }}\r\n            >\r\n              <div\r\n                className=\"absolute inset-0 bg-linear-to-br from-primary/30 to-primary/0 rounded-2xl opacity-0 blur-xl transition-opacity duration-300\"\r\n                style={{ opacity: proximity * 0.5 }}\r\n              />\r\n\r\n              <Card\r\n                className=\"relative h-full p-8 bg-card/50 backdrop-blur-sm border-primary/10 hover:border-primary/50 transition-all duration-300 cursor-pointer overflow-visible\"\r\n                onMouseMove={handleCardHover}\r\n                onMouseEnter={() => setIsHovered(true)}\r\n                onMouseLeave={() => setIsHovered(false)}\r\n                style={{\r\n                  transform: `scale(${1 + proximity * 0.05})`,\r\n                  transition: \"transform 0.3s ease-out\",\r\n                }}\r\n              >\r\n                <div className=\"relative z-10\">\r\n                  <div className=\"text-4xl mb-4\">{card.icon}</div>\r\n                  <h3 className=\"font-semibold text-xl text-foreground mb-3 group-hover:text-primary transition-colors\">\r\n                    {card.title}\r\n                  </h3>\r\n                  <p className=\"text-sm text-foreground/60 group-hover:text-foreground/80 transition-colors\">\r\n                    {card.description}\r\n                  </p>\r\n                </div>\r\n              </Card>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { ParallaxCard }",
      "type": "registry:component",
      "target": "components/3d-parallax-cards.tsx"
    }
  ],
  "categories": [
    "card",
    "card"
  ],
  "registryDependencies": [
    "card"
  ]
}